# TODO List


## 0 前期工作 Done√
1.测试odb数据的获取，通过查资料和手册，了解odb数据的架构，明确【温度、应变、应力】的存储位置（每个节点上？积分点上？还是网格上？）和代码获取方式

2.获得最初和最后每个原始网格中节点的位置坐标（可通过初始坐标+变形U来计算）

3.根据重新划分网格后的节点，计算划分前对应的数据。

## 1 knn算法当目标点过于接近包围边界的优化 Done√
判断点到边界距离最近的那个面是否为八叉树的边界，如果是，则忽略这个距离选择另一个更大的距离

优化前后耗时对比

| 算法\点数 | 9340/9340 | 11295/11295 | 18080/9340 | 22496/11295 |
| --- | --- | --- | --- | --- |
| 暴力 | 73s | 103s | - | - |
| knn | 39s | 52s | - | - |
| 优化knn | 19s | 28s | 40s | 53s |

可以看出，knn在暴力遍历的基础上提升了100%的性能，而优化后的knn又在knn的基础上提升了100%的性能

## 2 阈值k的优化 Done√
用多个阈值k进行试验，判断效率最高的阈值

| k\数据量 | 22496/11295 | 18080/9340 |
| --- | --- | --- |
|6|53s|40s|
|8|55s|42s|
|10|55s|41s|
|12|55s|42s|
|14|55s|42s|
|16|55s|41s|
|18|55s|42s|
|20|55s|42s|
对k取多个进行实验，发现不同的k对计算效率没有很大的影响

## 3 插值算法的选取
以距离的倒数作为加权还是以距离平方的倒数做加权
目前选用距离平方的倒数做加权，可以省掉一个开方的操作，速度更快

使用标准的三线性插值法进行对两种方法进行验证

| 加权系数 | 与三次线性插值的误差 |
| --- | --- |
|1/l|14.5%|
|1/l^2|6.8%|
|1/l^3|7.8%|
